# –î–µ–±–∞–≥ –ø–∞–Ω–µ–ª—å IMY Core

–î–µ–±–∞–≥ –ø–∞–Ω–µ–ª—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞–±–æ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ Laravel Debugbar.

## –í–∫–ª—é—á–µ–Ω–∏–µ

–î–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –¥–µ–±–∞–≥ –ø–∞–Ω–µ–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

```php
return [
    'debug' => [
        'enabled' => true,  // –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –¥–µ–±–∞–≥ –ø–∞–Ω–µ–ª—å
    ]
];
```

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **SQL –∑–∞–ø—Ä–æ—Å—ã**: –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –≤—Ä–µ–º–µ–Ω–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **–°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î**: –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: –û–±—â–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏**: –¢–µ–∫—É—â–µ–µ –∏ –ø–∏–∫–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

### –†—É—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```php
use Imy\Core\Debug;

// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
Debug::log('–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ', 'info');
Debug::log('–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ', 'warning');
Debug::log('–û—à–∏–±–∫–∞', 'error');

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ HTTP –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
Debug::addHeader('Custom-Header', 'Value');
```

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–∞–Ω–µ–ª–∏

### –ò–∫–æ–Ω–∫–∞ –¥–µ–±–∞–≥–∞
- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: –õ–µ–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- **–í–Ω–µ—à–Ω–∏–π –≤–∏–¥**: –ö—Ä—É–≥–ª–∞—è –∏–∫–æ–Ω–∫–∞ —Å —ç–º–æ–¥–∑–∏ üîß
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: –ö–ª–∏–∫ –ø–æ –∏–∫–æ–Ω–∫–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é –ø–∞–Ω–µ–ª—å –¥–µ–±–∞–≥–∞
- **–ê–Ω–∏–º–∞—Ü–∏—è**: –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –∏ –º–µ–Ω—è–µ—Ç —Ç–µ–Ω—å

### –û—Å–Ω–æ–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å
–ü–∞–Ω–µ–ª—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç:

### –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ (—Ç–µ–∫—É—â–µ–µ –∏ –ø–∏–∫–æ–≤–æ–µ)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ SQL –∑–∞–ø—Ä–æ—Å–æ–≤
- –û–±—â–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL –∑–∞–ø—Ä–æ—Å–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –ë–î

### SQL –∑–∞–ø—Ä–æ—Å—ã
- –ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- –ò–º—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î
- –ù–æ–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏
- –í—Å–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `Debug::addHeader()` –∑–∞–≥–æ–ª–æ–≤–∫–∏

### –õ–æ–≥–∏
- –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `Debug::log()`
- –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (info, warning, error)
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º

### –ò–∫–æ–Ω–∫–∞ –¥–µ–±–∞–≥–∞
- **–û—Ç–∫—Ä—ã—Ç–∏–µ**: –ö–ª–∏–∫ –ø–æ –∏–∫–æ–Ω–∫–µ –≤ –ª–µ–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É
- **–ó–∞–∫—Ä—ã—Ç–∏–µ**: –ö–ª–∏–∫ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É –ø–∞–Ω–µ–ª–∏ –∏–ª–∏ –∫–ª–∏–∫ –≤–Ω–µ –ø–∞–Ω–µ–ª–∏
- **–ê–Ω–∏–º–∞—Ü–∏—è**: –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏/–∑–∞–∫—Ä—ã—Ç–∏–∏

### –û—Å–Ω–æ–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞**: –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞ —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞
- **–ü—Ä–æ–∫—Ä—É—Ç–∫–∞**: –ö–∞–∂–¥—ã–π —Ä–∞–∑–¥–µ–ª –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –ø—Ä–æ–∫—Ä—É—Ç–∫—É
- **–¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è**: 
  - üü¢ –ë—ã—Å—Ç—Ä—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã (< 50ms)
  - üü° –°—Ä–µ–¥–Ω–∏–µ SQL –∑–∞–ø—Ä–æ—Å—ã (50-100ms)  
  - üî¥ –ú–µ–¥–ª–µ–Ω–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã (> 100ms)

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–î–µ–±–∞–≥ –ø–∞–Ω–µ–ª—å:
- –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ production (–æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥)
- –ù–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –¥–ª—è AJAX –∑–∞–ø—Ä–æ—Å–æ–≤
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–¥–æ–±–∞–≤–ª—è–µ—Ç ~1-2ms)

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```php
<?php
require_once 'autoload.php';

use Imy\Core\Core;
use Imy\Core\Debug;
use Imy\Core\DBSelect;

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
Core::init('config');

// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
Debug::log('–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã', 'info');

// –†–∞–±–æ—Ç–∞ —Å –ë–î (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è)
$users = DBSelect::factory('users')
    ->select('id', 'name')
    ->where('active', 1)
    ->fetchAssocAll();

Debug::log('–ü–æ–ª—É—á–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: ' . count($users), 'info');

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞
Debug::addHeader('X-Custom-Info', 'Debug Mode');

// –í –∫–æ–Ω—Ü–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –ø–∞–Ω–µ–ª—å
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞

–ü–∞–Ω–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ CSS —Å—Ç–∏–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á–µ—Ä–µ–∑ JavaScript:

```javascript
// –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞
document.querySelector('#imy-debug-panel > div').style.background = '#your-color';

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —à—Ä–∏—Ñ—Ç–∞
document.querySelector('#imy-debug-panel').style.fontSize = '14px';
```

## –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –≤ production

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Ç–∫–ª—é—á–∞—Ç—å –¥–µ–±–∞–≥ –ø–∞–Ω–µ–ª—å –≤ production –æ–∫—Ä—É–∂–µ–Ω–∏–∏:

```php
'debug' => [
    'enabled' => $_SERVER['SERVER_NAME'] !== 'production-domain.com',
]
```
