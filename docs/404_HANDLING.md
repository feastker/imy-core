# Обработка 404 ошибок

## Изменения в обработке Exception\NotFound

### Проблема
Ранее при возникновении исключения `Exception\NotFound` происходил редирект на `/404/`, что приводило к изменению URL в браузере.

### Решение
Теперь при возникновении `Exception\NotFound`:
1. Устанавливается HTTP статус 404
2. Отображается 404 страница напрямую без редиректа
3. URL в браузере остается неизменным

### Как это работает

#### 1. Обработка в Core.php
```php
catch (Exception\NotFound $e) {
    // Устанавливаем HTTP статус 404
    http_response_code(404);
    
    // Создаем контроллер для 404 страницы
    if (class_exists('Page404Controller')) {
        $controller = new \Page404Controller();
        // ... логика отображения страницы
    } else {
        // Fallback на простую HTML страницу
    }
}
```

#### 2. Поддержка Page404Controller
Если в приложении существует класс `Page404Controller`, он будет использован для отображения 404 страницы.

Пример контроллера:
```php
class Page404Controller
{
    public $v = []; // Данные для представления
    public $t = ''; // Шаблон
    
    public function init()
    {
        $this->v = [
            'title' => '404 - Страница не найдена',
            'message' => 'К сожалению, запрашиваемая страница не существует.'
        ];
    }
}
```

#### 3. Fallback
Если `Page404Controller` не существует, отображается простая HTML страница с сообщением об ошибке.

### Преимущества
- URL остается неизменным
- Лучший UX для пользователей
- SEO-дружественное поведение
- Гибкость в настройке 404 страницы через контроллер

### Примеры использования
См. файлы в папке `examples/`:
- `Page404Controller.php` - пример контроллера
- `test_404.php` - демонстрация работы
