# Imy Core v.1.0

PHP-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Å –ø—Ä–æ—Å—Ç—ã–º ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

ORM –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å:
- **MySQL** (–≤–µ—Ä—Å–∏–∏ 5.7+, 8.0+)
- **MariaDB** (–≤–µ—Ä—Å–∏–∏ 10.2+)

–û–±–∞ –¥—Ä–∞–π–≤–µ—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç PDO –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º—ã –º–µ–∂–¥—É —Å–æ–±–æ–π.

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `config.php` –Ω–∞ –æ—Å–Ω–æ–≤–µ `config_sample.php`:

```php
<?php

return [
    'db' => [
        'default' => [
            'driver'   => 'mysql',      // 'mysql' –∏–ª–∏ 'mariadb' (–æ–±–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω –¥—Ä–∞–π–≤–µ—Ä PDO)
            'host'     => 'localhost',
            'port'     => 3306,
            'dbname'   => 'your_database',
            'user'     => 'your_username',
            'password' => 'your_password',
            'charset'  => 'utf8mb4',
        ]
    ]
];
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

- `driver` - –¥—Ä–∞–π–≤–µ—Ä –ë–î: `mysql` –∏–ª–∏ `mariadb` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `mysql`)
- `host` - —Ö–æ—Å—Ç —Å–µ—Ä–≤–µ—Ä–∞ –ë–î
- `port` - –ø–æ—Ä—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 3306)
- `dbname` - –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `user` - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `password` - –ø–∞—Ä–æ–ª—å
- `charset` - –∫–æ–¥–∏—Ä–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è `utf8mb4`)
- `persistent` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `false`)
- `ca` - –ø—É—Ç—å –∫ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—É –¥–ª—è –∑–∞—â–∏—â–µ–Ω–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ —Ä–∞–∑–Ω—ã–º –±–∞–∑–∞–º –¥–∞–Ω–Ω—ã—Ö:

```php
'db' => [
    'default' => [
        'driver'   => 'mysql',
        'host'     => 'localhost',
        'dbname'   => 'main_db',
        // ...
    ],
    'analytics' => [
        'driver'   => 'mariadb',
        'host'     => 'analytics.example.com',
        'dbname'   => 'analytics_db',
        // ...
    ]
]
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã

```php
// SELECT
$users = DBSelect::factory('users')
    ->where('status', 1)
    ->orderBy('created_at', 'DESC')
    ->limit(10)
    ->fetchAssocAll();

// INSERT
DBManager::factory('users')
    ->set('name', 'John Doe')
    ->set('email', 'john@example.com')
    ->insert();

// UPDATE
DBManager::factory('users')
    ->where('id', 1)
    ->set('status', 1)
    ->update();

// DELETE
DBManager::factory('users')
    ->where('id', 1)
    ->delete();
```

### –†–∞–±–æ—Ç–∞ —Å Models

```php
class User extends \Imy\Core\Model
{
    protected $table = 'users';
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
$user = (new User())->getById(1);

// –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏
$user = (new User())->factory();
$user->setValue('name', 'John Doe');
$user->setValue('email', 'john@example.com');
$user->save();

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
$user->setValue('status', 1);
$user->save();

// –£–¥–∞–ª–µ–Ω–∏–µ
$user->delete();
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# 1. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
cp config_sample.php config.php
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ config.php

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
php test_connection.php

# 3. –ò–∑—É—á–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã
php examples/basic_usage.php
php examples/model_usage.php
php examples/debug_usage.php
php examples/test_debug.php
```

## üîß –î–µ–±–∞–≥ –ø–∞–Ω–µ–ª—å

IMY Core –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –º–æ—â–Ω—É—é –¥–µ–±–∞–≥ –ø–∞–Ω–µ–ª—å, –∞–Ω–∞–ª–æ–≥–∏—á–Ω—É—é Laravel Debugbar:

- **üîß –£–¥–æ–±–Ω–∞—è –∏–∫–æ–Ω–∫–∞** –≤ –ª–µ–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- **üìä –¢–∞–±—ã –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏** - –û–±–∑–æ—Ä, SQL, –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –õ–æ–≥–∏, –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –§–∞–π–ª—ã, –û—à–∏–±–∫–∏
- **üóÑÔ∏è –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ SQL –∑–∞–ø—Ä–æ—Å–æ–≤** —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **üåê –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö** - GET/POST/COOKIE/SERVER –¥–∞–Ω–Ω—ã–µ
- **üîó –ü–æ–¥—Å—á–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –ë–î** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **üíæ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏** (—Ç–µ–∫—É—â–µ–µ –∏ –ø–∏–∫–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- **üìù –†—É—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —É—Ä–æ–≤–Ω—è–º–∏ (info, warning, error)
- **‚ö° –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - PHP, —Å–µ—Ä–≤–µ—Ä, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **üìÅ –ê–Ω–∞–ª–∏–∑ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤** - —Ä–∞–∑–º–µ—Ä—ã, –¥–∞—Ç—ã, –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **‚ö†Ô∏è –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫** - PHP –æ—à–∏–±–∫–∏ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- **üé® –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** —Å –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π —Ä–∞—Å–∫–ª–∞–¥–∫–æ–π –∏ –ø–ª–∞–≤–Ω—ã–º–∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏

### –í–∫–ª—é—á–µ–Ω–∏–µ –¥–µ–±–∞–≥ –ø–∞–Ω–µ–ª–∏

```php
// –í config.php
'debug' => [
    'enabled' => true,  // –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –¥–µ–±–∞–≥ –ø–∞–Ω–µ–ª—å
]
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```php
use Imy\Core\Debug;

// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
Debug::log('–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è', 'info');
Debug::log('–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ', 'warning');
Debug::log('–û—à–∏–±–∫–∞', 'error');

// HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏
Debug::addHeader('X-Custom-Header', 'Value');
```

üìñ [–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –¥–µ–±–∞–≥ –ø–∞–Ω–µ–ª–∏](docs/DEBUG_PANEL.md)

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- üìö [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](docs/QUICKSTART.md) - –Ω–∞—á–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç—É –∑–∞ 5 –º–∏–Ω—É—Ç
- üìñ [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏](docs/MIGRATION_GUIDE.md) - –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- ‚¨ÜÔ∏è [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ](docs/UPGRADE.md) - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏–π
- üìã [–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π](docs/CHANGELOG.md) - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- üìù [–°–≤–æ–¥–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π](docs/SUMMARY.md) - –∫—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

## –ü—Ä–∏–º–µ—Ä—ã

–†–∞–±–æ—á–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `examples/`:
- `basic_usage.php` - –±–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–î
- `model_usage.php` - —Ä–∞–±–æ—Ç–∞ —Å –º–æ–¥–µ–ª—è–º–∏ ORM
- `debug_usage.php` - –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–µ–±–∞–≥ –ø–∞–Ω–µ–ª–∏
- `test_debug.php` - –ø–æ–ª–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –¥–µ–±–∞–≥ –ø–∞–Ω–µ–ª–∏
- –°–º. [examples/README.md](examples/README.md) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π

## –ú–∏–≥—Ä–∞—Ü–∏–∏

–ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π:
```bash
php migrator.php
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- PHP 7.4 –∏–ª–∏ –≤—ã—à–µ
- PDO —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
- MySQL 5.7+ –∏–ª–∏ MariaDB 10.2+
